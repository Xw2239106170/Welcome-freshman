<view class="container"><view class="status-bar"></view><view class="header"><view class="user-info"><text class="nickname">Hi, 小徐同学</text><text class="dept">软件工程 · 2024级</text></view></view><view class="card"><view class="card-header"><view class="card-title"><text>校园通</text><text class="card-no">No. 20240001</text></view><view data-event-opts="{{[['tap',[['showQRCode',['$event']]]]]}}" class="qr-wrapper" bindtap="__e"><image class="qr-icon" src="https://zhihuiyingxin.oss-cn-hangzhou.aliyuncs.com/0a2ec970-ee92-4ccc-bc9a-49576a931c3f.png" mode="aspectFit"></image></view></view><view class="card-footer"><view class="balance"><text class="amount">￥168.50</text><text class="label">卡余额</text></view><view class="user"><text class="name">徐多多</text><text class="expire">有效期至 2026.06</text></view></view></view><view class="grid"><block wx:for="{{functions}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handleTap',['$0'],[[['functions','',index]]]]]]]}}" class="grid-item" bindtap="__e"><view class="icon-wrapper" style="{{'background-color:'+(item.bgColor)+';'}}"><uni-icons vue-id="{{'9fa69fbc-1-'+index}}" type="{{item.icon}}" size="30" bind:__l="__l"></uni-icons></view><view class="text-wrapper"><text class="title">{{item.title}}</text><text class="desc">{{item.desc}}</text></view></view></block></view><block wx:if="{{showQR}}"><view data-event-opts="{{[['tap',[['hideQRCode',['$event']]]]]}}" class="qr-popup" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="qr-content" catchtap="__e"><view class="qr-header"><text class="qr-title">身份验证码</text><text class="qr-desc">请向工作人员出示此二维码</text></view><view class="qr-image-wrapper"><image class="qr-image" src="{{qrCode}}" mode="aspectFit"></image></view><view class="qr-refresh"><view class="refresh-timer"><text class="timer-text">{{countdown+"s"}}</text><text class="timer-label">后刷新</text></view><view class="refresh-progress" style="{{'transform:'+('rotate('+360*(countdown/60)+'deg)')+';'}}"></view></view><button data-event-opts="{{[['tap',[['hideQRCode',['$event']]]]]}}" class="close-btn" bindtap="__e">关闭</button></view></view></block></view>